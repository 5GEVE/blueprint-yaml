# vsb_polito_smartcity.yaml
---
blueprintId: 'vsb_polito_smartcity'
version: '1.0'
name: PoliTo Smart City
description: Blueprint for 5G EVE Smart City (Smart Turin) for quantification of people in sensitive areas.
parameters:
atomicComponents:
  - componentId: mobility_tracker
    serversNumber: 1
    endPointsIds:
      - cp_tracker_ext_mobile
      - cp_tracker_data
      - cp_tracker_mgmt
  - componentId: visualization_tool
    serversNumber: 1
    endPointsIds:
      - cp_vis_data
      - cp_vis_mgmt
      - cp_vis_user
endPoints:
  - endPointId: cp_tracker_ext_mobile
    external: true
    management: false
    ranConnection: true
  - endPointId: cp_tracker_data
    external: false
    management: false
    ranConnection: false
  - endPointId: cp_tracker_mgmt
    external: true
    management: true
    ranConnection: false
  - endPointId: cp_vis_data
    external: false
    management: false
    ranConnection: false
  - endPointId: cp_vis_mgmt
    external: true
    management: true
    ranConnection: false
  - endPointId: cp_vis_user
    external: true
    management: false
    ranConnection: false
  - endPointId: sap_tracker_m2m
    external: true
    management: false
    ranConnection: true
  - endPointId: sap_tracker_mgmt
    external: true
    management: true
    ranConnection: false
  - endPointId: sap_vis_user
    external: true
    management: false
    ranConnection: false
connectivityServices:
  - name: vl_smartcity_ext
    management: false
    endPointIds:
      - sap_tracker_m2m
      - cp_tracker_ext_mobile
    external: true
  - name: vl_smartcity_data
    management: false
    endPointIds:
      - cp_vis_data
      - cp_tracker_data
    external: false
  - name: vl_smartcity_mgmt
    management: true
    endPointIds:
      - sap_tracker_mgmt
      - cp_vis_mgmt
      - cp_tracker_mgmt
    external: true
  - name: vl_smartcity_user
    management: false
    endPointIds:
      - cp_vis_user
      - sap_vis_user
    external: true
compatibleContextBlueprint:
  - 'ctx_smartcity_traffic'
applicationMetrics:
  - metricId: 'cpu_consumption'
    name: 'Measurement of CPU consumption'
    metricCollectionType: 'GAUGE'
    unit: '%'
    interval: '1s'
    metricGraphType: LINE
  - metricId: 'memory_consumption'
    name: 'Measurement of memory consumption'
    metricCollectionType: 'GAUGE'
    unit: 'GB'
    interval: '1s'
    metricGraphType: LINE
  - metricId: 'storage_consumption'
    name: 'Measurement of storage consumption'
    metricCollectionType: 'GAUGE'
    unit: 'GB'
    interval: '1s'
    metricGraphType: LINE
  - metricId: 'active_sensor'
    name: 'Number of active sensors'
    metricCollectionType: 'GAUGE'
    unit: 'devices'
    # 1s for the demo, restore to 10m after that
    interval: '1s'
    metricGraphType: LINE
compatibleSites:
  - ITALY_TURIN
