ctxBlueprintId: 'cb_delay'
version: '1.0'
name: 'Context Blueprint Artificial Delay'
description: 'Context Blueprint to add artificial delay to a VSB.'
imgUrl: ''
parameters:
  - parameterId: 'delay_avg'
    parameterName: 'Delay average'
    parameterType: 'number'
    parameterDescription: 'The amount of delay (average) in ms.'
    applicabilityField: 'context'
  - parameterId: 'delay_var'
    parameterName: 'Delay variance'
    parameterType: 'number'
    parameterDescription: 'The variance (jitter) of delay.'
    applicabilityField: 'context'
atomicComponents:
  - componentId: 'DEL'
    serversNumber: 1
    # componentName: 'Artificial Delay'
    imagesUrls: ['/path/to/delay.qcow']
    endPointsIds: ['CpDelIn', 'CpDelOut']
    lifecycleOperations:
      instantiate: 'scripts/instantiate'
      terminate: 'scripts/terminate'
      update: 'scripts/update'
      heal: 'scripts/heal'
    # scalingRules: []
endPoints:
  - endPointId: 'CpDelIn'
    external: false
    management: false
    ranConnection: false
  - endPointId: 'CpDelOut'
    external: false
    management: false
    ranConnection: false
translationRules:
  - input:
      - parameterId: 'delay_avg'
        minValue: 1
        maxValue: 50
    nsdId: 'nsd_delay_small'
    nsdVersion: '1.0'
    nsFlavourId: 'fl_delay_small'
    nsInstantiationLevelId: 'il_delay_small'
  - input:
      - parameterId: 'delay_avg'
        minValue: 51
        maxValue: 100
    nsdId: 'nsd_delay_medium'
    nsdVersion: '1.0'
    nsFlavourId: 'fl_dealy_medium'
    nsInstantiationLevelId: 'il_dealy_medium'
constraints:
  compositionOrder: 10
metrics:
  - metricId: 'delay_iface'
    name: 'Traffic delay measured on interface'
    type: 'GAUGE'
    unit: 'ms'
    interval: '1s'
